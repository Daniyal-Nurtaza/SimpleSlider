"use strict";!function(n){n.simpleSlider=function(h,s){({setUserOptions:function(){var t={speed:1e3,delay:6e3,slidesPerView:1,autoplay:!1,class:{wrapper:"slider-wrapper",slide:"slider-slide",buttons:"slider-btn",pagination:"slider-pagination",paginationItem:"pagination-bullet"}},i=Object.assign(t.class,s.class),e=Object.assign(t,s);Object.assign(e.class,i),this.options=e},setSliderOptions:function(){var t=this.options,i=t.delay,e=t.speed,s=t.class,n=s.wrapper,a=s.slide,o=s.buttons,r=s.pagination;this.container=document.querySelector(h),this.wrapper=this.container.querySelector(".".concat(n)),this.slides=this.container.querySelectorAll(".".concat(a)),this.buttons=this.container.querySelectorAll(".".concat(o)),this.pagination=this.container.querySelector(".".concat(r)),this.disableEvents=!1,this.index=1,this.wrapperWidth=0,this.autoplayDelay=i+e,this.transitionDuration=this.isWebkit("transitionDuration"),this.transform=this.isWebkit("transform"),this.timer,this.drag={startX:0,endX:0,dragDiff:0,maxMovement:0,focused:!1}},init:function(){this.setUserOptions(),this.setSliderOptions(),this.createClones(),this.setWidth(),this.moveWrapper(),this.createPagination(),this.autoplay(),2==this.buttons.length&&(this.prevBtn(),this.nextBtn()),this.attachEvents(),this.resizeHandler(),this.visibilityChangeHandler()},attachEvents:function(){this.container.addEventListener("touchstart",this.touchstartHandler.bind(this)),this.container.addEventListener("touchmove",this.touchmoveHandler.bind(this)),this.container.addEventListener("touchend",this.touchendHandler.bind(this))},touchstartHandler:function(t){var i=this;t.stopPropagation(),this.setTransition(0),this.drag.startX=t.touches[0].pageX,this.drag.focused=!0,setTimeout(function(){i.drag.focused=!1},100)},touchmoveHandler:function(t){t.stopPropagation(),this.drag.endX=t.touches[0].pageX,this.drag.dragDiff=this.drag.endX-this.drag.startX,this.wrapper.style[this.transform]="translate3d(-".concat(this.wrapperPosition-this.drag.dragDiff,"px, 0, 0)")},touchendHandler:function(t){t.stopPropagation(),50<Math.abs(this.drag.dragDiff)&&!this.drag.focused&&(this.drag.dragDiff<-50?this.changeSlide("right"):50<this.drag.dragDiff&&this.changeSlide()),this.setTransition(200),this.moveWrapper(),this.drag.dragDiff=0},createClones:function(){for(var t,i=this.options,e=i.slidesPerView,s=i.class.slide,n=this.wrapper,a=this.slides.length-1,o=document.createDocumentFragment(),r=document.createDocumentFragment(),h=0;h<e&&!(a-h<0||a<h);h++)t=n.children[a-h].cloneNode(!0),r.insertBefore(t,r.childNodes[0]),t=n.children[h].cloneNode(!0),o.appendChild(t);n.appendChild(o),n.insertBefore(r,this.slides[0]),this.allSlides=this.container.querySelectorAll(".".concat(s))},setWidth:function(){var i=this,t=this.options.slidesPerView,e=Math.round(this.container.offsetWidth/t)+"px";this.wrapperWidth=0,Object.values(this.allSlides).map(function(t){t.style.width=e,i.wrapperWidth+=t.offsetWidth}),this.wrapper.style.width=this.wrapperWidth+"px"},moveWrapper:function(){var t=this.options.slidesPerView,i=Math.floor(t/2)+this.index;t%2==(this.wrapperPosition=0)&&i++;for(var e=0;e<i;e++)this.wrapperPosition+=this.allSlides[e].offsetWidth;this.wrapper.style[this.transform]="translate3d(-".concat(this.wrapperPosition,"px, 0, 0)")},changeSlide:function(t){var i=this,e=this.options.speed;"right"==t?this.index++:this.index--,this.disableAllEvents(),this.highlightBullet(),this.setTransition(e),this.moveWrapper(),setTimeout(function(){(i.index<=0||i.index>i.slides.length)&&(i.index=i.updateIndex(i.index),i.moveWrapper(),i.setTransition(0))},e)},disableAllEvents:function(){var t=this,i=this.options.speed;this.disableEvents=!0,setTimeout(function(){t.disableEvents=!1},i)},setTransition:function(t){this.wrapper.style[this.transitionDuration]=t+"ms"},createPagination:function(){if(this.pagination){for(var t,i=this.options.class.paginationItem,e=document.createDocumentFragment(),s=this.slides.length,n=0;n<s;n++)(t=document.createElement("span")).classList.add(i),0==n&&t.classList.add("active"),e.appendChild(t);this.pagination.appendChild(e),this.bullets()}},bullets:function(){var e=this,t=this.options.class.paginationItem,i=this.pagination.querySelectorAll(".".concat(t));Object.values(i).map(function(t,i){t.addEventListener("click",function(){e.disableEvents||(e.index=i),e.buttonsAction("right")})})},highlightBullet:function(){if(this.pagination){var t=this.options.class.paginationItem;this.pagination.querySelector(".active").classList.remove("active"),this.pagination.querySelectorAll(".".concat(t))[this.updateIndex(this.index)-1].classList.add("active")}},buttonsAction:function(t){this.disableEvents||(this.changeSlide(t),this.resetAutoplay(),this.autoplay())},prevBtn:function(){var t=this;this.buttons[0].addEventListener("click",function(){t.buttonsAction("left")})},nextBtn:function(){var t=this;this.buttons[1].addEventListener("click",function(){t.buttonsAction("right")})},updateIndex:function(t){return t>this.slides.length&&(t=1),t<=0&&(t=this.slides.length),t},autoplay:function(){var t=this,i=this.options.autoplay;i&&(this.timer=setTimeout(function(){t.changeSlide("right"),t.autoplay()},this.autoplayDelay))},resetAutoplay:function(){clearTimeout(this.timer)},visibilityChangeHandler:function(){var t,i,e=this;i=void 0!==document.hidden?(t="hidden","visibilitychange"):(t="webkitHidden","webkitvisibilitychange"),n.addEventListener(i,function(){document[t]?e.resetAutoplay():(e.resetAutoplay(),e.autoplay())})},resizeHandler:function(){var t=this;n.addEventListener("resize",function(){t.setWidth(),t.moveWrapper(),t.setTransition(0)})},isWebkit:function(t){return"string"==typeof document.documentElement.style[t]?t:(t=this.capitalizeFirstLetter(t),t="webkit".concat(t))},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}).init()}}(window);